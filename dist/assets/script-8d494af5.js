import{b}from"./helpers-0bb72b7a.js";function w(t,a){var r=window.Element.prototype,o=r.matches||r.mozMatchesSelector||r.msMatchesSelector||r.oMatchesSelector||r.webkitMatchesSelector;if(!t||t.nodeType!==1)return!1;var n=t.parentNode;if(o)return o.call(t,a);for(var c=n.querySelectorAll(a),s=c.length,i=0;i<s;i++)if(c[i]===t)return!0;return!1}var T=w,v=function(t,a,r){for(r=r||document,t={parentNode:t};(t=t.parentNode)&&t!==r;)if(T(t,a))return t},y=["input","textarea","button","select","form"].map(function(t){return"".concat(t,"[disabled]")}).join(","),g={focus:"focusin",blur:"focusout",mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},S=function(){for(var t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];var o=a.length===3;o||a.unshift(null);var n=a[0],c=a[1],s=a[2],i=function(e){if(c===""){e.delegateTarget=e.target,o&&(e.originalEventType=n),s(e);return}var d=v(e.target,y),f=v(e.target,c),h=!e.currentTarget.contains(d)&&e.currentTarget.contains(f)&&e.currentTarget!==e.target;if(h)if(e.delegateTarget=f,o&&(e.originalEventType=n),o&&typeof g[n]<"u"&&n!=="focus"&&n!=="blur"){var m=e.delegateTarget,p=e.relatedTarget;(!p||!m.contains(p))&&s(e)}else s(e)};if(o){var l;return[(l=g[n])!==null&&l!==void 0?l:n,i]}return i};const M=S;function L(t){const a=b(t);t.addEventListener("click",M('[data-ref="loadMore"]',r));async function r(o){o.preventDefault();const n=o.delegateTarget;n.classList.add("button--disabled");const c=new URL(n.href);try{const i=await(await fetch(c)).text(),u=new DOMParser().parseFromString(i,"text/html"),e=u.querySelector('flynt-component[name="GridPostsArchive"] [data-ref="posts"]'),d=u.querySelector('flynt-component[name="GridPostsArchive"] [data-ref="pagination"]');a.posts.append(...e.children),a.pagination.textContent="",d&&a.pagination.append(...d.children),n.classList.remove("button--disabled")}catch(s){console.error(s)}}}export{L as default};
